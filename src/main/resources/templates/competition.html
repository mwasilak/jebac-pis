<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="competition.name">Competition</title>
    <head th:insert="fragments/header :: head"></head>
    <style>

        main {
            display:flex;
            flex-direction:row;
        }

        .round{
            display:flex;
            flex-direction:column;
            justify-content:center;
            width:200px;
            list-style:none;
            padding:0;
        }

        .round .spacer{ flex-grow:1; }
        .round .spacer:first-child,
        .round .spacer:last-child{ flex-grow:.5; }

        .bracket li {

            border: 1px solid #ccc;
            /*padding: 5px 10px;*/
        }


    </style>
</head>
<body>
<header th:insert="fragments/header :: header"></header>
<div class="container content-padding">
    <h3 th:text="${competition.name}">Competition</h3>
    <main class="bracket">
        <ul class="round" th:each="round : ${#numbers.sequence(1, competition.numberOfRounds)}">
            <li class="spacer">&nbsp;</li>
            <th:block th:each="position : ${#numbers.sequence(1, competition.calculateMaxMatchesInRound(round))}">
                <li th:replace="fragments/match :: matchBox(match=${competition.getMatchByPosition(round, position)})"></li>
                <li class="spacer">&nbsp;</li>
            </th:block>
        </ul>
    </main>
</div>
</body>
</html>